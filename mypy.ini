# mypy configuration for DinoAir
# Type checking configuration with strict settings

[mypy]
python_version = 3.12
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
disallow_untyped_decorators = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true
strict_concatenate = true

# Import discovery
namespace_packages = true
explicit_package_bases = true

# Platform configuration
platform = linux

# Exclude directories with non-standard naming that can't be valid Python packages
exclude = ^(04_core_router|05_api|06_rag|07_tools|08_input_processing|09_monitoring|10_src|11_GUI)/.*

# Per-module options for gradual typing adoption
[mypy-models.*]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true

[mypy-utils.enums]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true

[mypy-utils.dependency.*]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true

[mypy-utils.resource_manager]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true

[mypy-utils.optimization_utils]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true

[mypy-utils.health_checker]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true

[mypy-database.notes_service]
disallow_untyped_defs = true
disallow_incomplete_defs = true
warn_return_any = true

# Third-party libraries without stubs
[mypy-aiofiles.*,PyPDF2.*,psutil.*,cryptography.*]
ignore_missing_imports = true

# Test files - slightly relaxed
[mypy-tests.*]
disallow_untyped_defs = false
warn_return_any = false
